# 《重构-改善即有代码的设计》
## class
- 去掉旧函数：如果旧函数是public，而有不想修改其他类的接口，可以保留旧函数调用新函数
- 过大的类：先确定客户端如何使用它们，提炼接口
- 针对某一外界变化的所有相应修改，都只应该发生在单一类中，而这个新类内的所有内容都应该反应此变化
- 可以妥协复用父类代码，这确实有点问题，但可以接受。然而不支持父类接口是无法接受的
- 尽量删去switch语句，可以将每个case抽出来形成一个子类，最后将原函数声明为虚函数。使用多态技术替换switch
- 减少平行继承体系
- 服务类无法提供足够函数
    1. 在客户类中封装外加函数，将服务类作为第一个参数传入该函数
    2. 无法解决时，对服务类进行封装或者进行子类化。自类化是更好的选择因为
    2.1. 无法向用户隐藏包装类的存在，存在类型问题
    2.2. 自类化只要不重写原函数看起来是最好的选择

## function
- 尽量去除临时变量
- 使用短函数：短函数便于理解，其中的关键是一个好名字，读者可以通过名字了解函数作用
就算只有一行代码，如果它需要以注释来说明，那也值得将它提炼到独立函数
- 函数应该被放在它所使用的数据的所属对象内

## common
- 命名：好的代码应该清楚表达自己的功能
- 去除重复代码
- 编写代码前先写测试代码，这让你把注意力集中在几口而非实现